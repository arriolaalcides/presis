{% extends '::base.html.twig' %}
{% block banner %}
{% endblock %}
{% block contenido %}

    <div class="container">

        {{ form_start(form, { 'style': 'horizontal' }) }}
        <fieldset>
            <legend>Confirmar Retiro</legend>



            {{ form_row(form.comprador.calle) }}
            {{ form_row(form.comprador.apenom) }}


            {{ form_row(form.comprador.altura) }}
            {{ form_row(form.comprador.piso) }}
            {{ form_row(form.comprador.dpto) }}
            {{ form_row(form.comprador.cp) }}
            {{ form_row(form.comprador.email) }}
            {{ form_row(form.comprador.celular) }}
            {{ form_row(form.franja) }}
            {{ form_row(form.comprador.otherInfo) }}
            {{ form_row(form.sucursal) }}
            {{ form_row(form.servicio) }}
            {{ form_row(form.precio) }}
            {{ form_row(form.peso) }}
            {{ form_row(form.rango) }}
			{{ form_row(form.cantidad) }}



            <div class="form-group">
                {{ form_label(form.fragil) }}

                {{ form_errors(form.fragil) }}

                <div class="col-lg-10"><div id="form_gender">
                        <div class="checkbox">
                            {{ form_widget(form.fragil) }}
                        </div></div></div>
            </div>






            <div class="form-group">
                <label class="col-md-4 control-label" for="button1id"></label>
                <div class="col-md-8">
                    {{ form_widget(form.submit) }}
                    <a href="{{ path('retiro') }}" class="btn btn-primary">Volver a Retiros</a>

                </div>
            </div>
            <div class="errors">
                {{ form_errors(form, { 'global_errors': true }) }}
            </div>
        </fieldset>


        {{ form_end(form) }}
        {% include 'BraincraftedBootstrapBundle::flash.html.twig' %}
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script type="text/javascript">
        $('input[type="checkbox"]').on('change', function () {
            var ch = $(this), c;
            if (ch.is(':checked')) {
                ch.prop('checked', false);

            } else {
                ch.prop('checked', true);

            }
        });

        var my_condition = true;
        var lastSel = $("#presis_retirobundle_retiroConfirm_sucursal option:selected");

        $("#presis_retirobundle_retiroConfirm_sucursal").change(function(){
            if(my_condition)
            {
                lastSel.attr("selected", true);
            }
        });

        $("#presis_retirobundle_retiroConfirm_sucursal").click(function(){
            lastSel = $("#presis_retirobundle_retiroConfirm_sucursal option:selected");
        });

        var my_condition2 = true;
        var lastSel2 = $("#presis_retirobundle_retiroConfirm_servicio option:selected");

        $("#presis_retirobundle_retiroConfirm_servicio").change(function(){
            if(my_condition2)
            {
                lastSel2.attr("selected", true);
            }
        });

        $("#presis_retirobundle_retiroConfirm_servicio").click(function(){
            lastSel2 = $("#presis_retirobundle_retiroConfirm_servicio option:selected");
        });

        $('form').submit(function(e) {
            var currentForm = this;
            e.preventDefault();
            bootbox.confirm("¿Su confirmaci&oacute;n genera solicitud de retiro. ¿Desea confirmar?", function(result) {
                if (result) {
                    currentForm.submit();
                }
            });
        });
    </script>


{% endblock %}